# ============================================
# FLEXORAA BACKEND - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your actual values

# ============================================
# DATABASE (Supabase PostgreSQL)
# ============================================
# Get these from: https://supabase.com → Your Project → Settings → API
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Alternative: Direct PostgreSQL connection (if not using Supabase)
# DATABASE_URL=postgresql://user:password@host:5432/database

# ============================================
# REDIS (Caching, Queue, Rate Limiting)
# ============================================
REDIS_URL=redis://localhost:6379
# For production with password: redis://:password@host:6379

# ============================================
# AUTHENTICATION & SECURITY
# ============================================
# Generate strong random secret (minimum 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long

# Session secret for cookie signing
SESSION_SECRET=another-random-secret-for-sessions

# ============================================
# AI SERVICES
# ============================================
# OpenAI API - Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxx

# Google Gemini - Get from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=AIzaSy_xxxxx

# ============================================
# EXTERNAL INTEGRATIONS
# ============================================
# WhatsApp Business API - Get from: https://developers.facebook.com
WHATSAPP_ACCESS_TOKEN=your_whatsapp_token
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_VERIFY_TOKEN=your_custom_verify_token

# Twilio (SMS/Voice) - Get from: https://www.twilio.com/console
TWILIO_ACCOUNT_SID=ACxxxxx
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# KlickTipp (Email Marketing) - If you use it
KLICKTIPP_API_KEY=your_klicktipp_key

# ============================================
# MONITORING & LOGGING
# ============================================
# Sentry (Error Tracking) - Get from: https://sentry.io
SENTRY_DSN=https://xxxxx@sentry.io/xxxxxxx

# Log level: error, warn, info, debug
LOG_LEVEL=info

# ============================================
# APPLICATION SETTINGS
# ============================================
NODE_ENV=development
PORT=3000

# Domain for production
DOMAIN=flexoraaa.com

# ============================================
# HETZNER OBJECT STORAGE (Backups)
# ============================================
# Get from: Hetzner Cloud Console → Object Storage
HETZNER_S3_ENDPOINT=https://fsn1.your-objectstorage.com
HETZNER_S3_BUCKET=flexoraa-backups
HETZNER_S3_ACCESS_KEY=your_access_key
HETZNER_S3_SECRET_KEY=your_secret_key

# ============================================
# OPTIONAL: Additional Services
# ============================================
# Pinecone (Vector Database) - If you use AI embeddings
PINECONE_API_KEY=your_pinecone_key
PINECONE_ENVIRONMENT=us-east-1-aws

# Stripe (Payments) - If you have billing
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# ============================================
# GRAFANA (Monitoring Dashboard)
# ============================================
GRAFANA_PASSWORD=choose-secure-password-here

# ============================================
# RAZORPAY (Payment Gateway - India)
# ============================================
# Get from: https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=rzp_test_xxxxx
RAZORPAY_KEY_SECRET=your_razorpay_secret

# ============================================
# GMAIL INTEGRATION (OAuth 2.0)
# ============================================
# Get from: https://console.cloud.google.com/apis/credentials
GMAIL_CLIENT_ID=xxxxx.apps.googleusercontent.com
GMAIL_CLIENT_SECRET=your_gmail_client_secret
GMAIL_REDIRECT_URI=http://localhost:3001/api/integrations/gmail/callback

# ============================================
# INSTAGRAM & FACEBOOK (Meta Graph API)
# ============================================
# Get from: https://developers.facebook.com
INSTAGRAM_ACCESS_TOKEN=your_instagram_access_token
INSTAGRAM_PAGE_ID=your_instagram_page_id
FACEBOOK_PAGE_ACCESS_TOKEN=your_facebook_page_access_token
FACEBOOK_PAGE_ID=your_facebook_page_id

# ============================================
# WHATSAPP ADVANCED SETTINGS
# ============================================
WHATSAPP_PHONE_NUMBER_ID_PRIMARY=your_primary_phone_id
WHATSAPP_PHONE_NUMBER_ID_SUPPORT=your_support_phone_id
WHATSAPP_PHONE_NUMBER_ID_SECONDARY=your_secondary_phone_id
ENABLE_WHATSAPP_SENDING=true
WHATSAPP_SANDBOX_MODE=false
WHATSAPP_APPROVED_TEMPLATES=welcome_message,follow_up,appointment_reminder,cold_recovery,general_followup

# ============================================
# AWS KMS (Encryption Keys for Multi-Tenant)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
KMS_KEY_ID=your_kms_key_id

# ============================================
# FRONTEND URL (for redirects & emails)
# ============================================
FRONTEND_URL=http://localhost:3000

# ============================================
# FEATURE FLAGS (Enable/Disable Features)
# ============================================
ENABLE_AI_QUALIFICATION=true
ENABLE_COLD_RECOVERY=true
ENABLE_LEAKAGE_PREVENTION=true
ENABLE_SLA_MONITORING=true
ENABLE_GMAIL_POLLING=true

# ============================================
# CALENDLY INTEGRATION
# ============================================
# Get from: https://calendly.com/integrations/api_webhooks
CALENDLY_API_TOKEN=your_calendly_api_token
CALENDLY_WEBHOOK_SIGNING_KEY=your_webhook_signing_key

# ============================================
# A/B TESTING & EXPERIMENTATION
# ============================================
ENABLE_AB_TESTING=true
AB_TEST_MIN_SAMPLE_SIZE=1050
AB_TEST_SIGNIFICANCE_LEVEL=0.05

# ============================================
# MODEL DRIFT MONITORING
# ============================================
ENABLE_DRIFT_MONITORING=true
DRIFT_CHECK_FREQUENCY=weekly
DRIFT_THRESHOLD=0.10
CRITICAL_DRIFT_THRESHOLD=0.05

# ============================================
# META MESSAGING PLATFORMS COMPLIANCE
# ============================================
# WhatsApp Business API
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id
WHATSAPP_TIER=0
WHATSAPP_QUALITY_SCORE=5.0
WHATSAPP_VERIFIED=false

# Instagram Business Account
INSTAGRAM_BUSINESS_ACCOUNT_ID=your_instagram_business_id
INSTAGRAM_DM_RATE_LIMIT=200
INSTAGRAM_COMMENT_RATE_LIMIT=200

# Facebook Page
FACEBOOK_PAGE_ID=your_facebook_page_id
FACEBOOK_SUBSCRIPTION_LIMIT=1

# Meta Compliance Monitoring
ENABLE_META_COMPLIANCE_CHECKS=true
META_QUALITY_SCORE_THRESHOLD=3.5
META_BLOCK_RATE_THRESHOLD=0.10
