# ==================================
# PostgreSQL Database
# ==================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=flexoraa
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changeme_in_production

# ==================================
# Redis (Rate Limiting & Caching)
# ==================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=changeme_in_production

# ==================================
# Express API
# ==================================
NODE_ENV=staging
PORT=3000
API_BASE_URL=http://localhost:3000
LOG_LEVEL=info

# JWT Authentication
JWT_SECRET=change_me_to_random_32_char_string_minimum
JWT_EXPIRY=1h
JWT_REFRESH_EXPIRY=7d

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==================================
# Google Gemini AI
# ==================================
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-pro
GEMINI_MAX_TOKENS=300
GEMINI_TEMPERATURE=0.7

# Per-tenant cost controls (tokens per day)
GEMINI_DAILY_TOKEN_LIMIT=100000
GEMINI_ALERT_THRESHOLD=80000

# ==================================
# Pinecone Vector Store (RAG)
# ==================================
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=flexoraa-rag
PINECONE_DIMENSION=768
PINECONE_METRIC=cosine

# ==================================
# WhatsApp Business Cloud API
# ==================================
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id

# Phone Numbers (from n8n workflows)
WHATSAPP_PHONE_NUMBER_ID_PRIMARY=755917534271095
WHATSAPP_PHONE_NUMBER_ID_SUPPORT=114317595015150
WHATSAPP_PHONE_NUMBER_ID_SECONDARY=800552979798504

# Template Governance
WHATSAPP_SANDBOX_MODE=true
WHATSAPP_APPROVED_TEMPLATES=offer_for_manual|de,auto_forward_to_support|de

# ==================================
# Twilio (Voice Verification)
# ==================================
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_FROM_NUMBER=+17623006608
TWILIO_TWIML_URL=https://handler.twilio.com/twiml/your_twiml_id

# ==================================
# KlickTipp (Email Marketing)
# ==================================
KLICKTIPP_USERNAME=your_klicktipp_username
KLICKTIPP_PASSWORD=your_klicktipp_password
KLICKTIPP_API_BASE=https://api.klicktipp.com/

# ==================================
# Supabase
# ==================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your_service_role_key
SUPABASE_ANON_KEY=your_anon_key

# ==================================
# AWS (KMS, Secrets Manager, S3)
# ==================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# KMS for PII encryption
AWS_KMS_KEY_ID=your_kms_key_id_for_pii_encryption

# S3 for backups
S3_BUCKET=flexoraa-backups
S3_BACKUP_PREFIX=staging/
BACKUP_RETENTION_DAYS=30

# ==================================
# Monitoring & Alerts
# ==================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_PASSWORD=changeme_in_production

# Slack Alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# ==================================
# Lead Scoring Thresholds
# ==================================
LEAD_SCORE_HOT_MIN=70
LEAD_SCORE_WARM_MIN=50
LEAD_SCORE_COLD_MAX=49

# ==================================
# Assignment Queue
# ==================================
ASSIGNMENT_MAX_RETRIES=3
ASSIGNMENT_BOOKING_LINK_EXPIRY_HOURS=48
ASSIGNMENT_HMAC_SECRET=change_me_to_random_secret_for_booking_links

# ==================================
# Webhook Security
# ==================================
WEBHOOK_REPLAY_WINDOW_SECONDS=300
WEBHOOK_NONCE_TTL_DAYS=7

# ==================================
# Consent & Compliance
# ==================================
CONSENT_LOG_RETENTION_YEARS=7
CHAT_MEMORY_RETENTION_DAYS=90

# ==================================
# Feature Flags (Phase 1)
# ==================================
ENABLE_AI_SERVICES=false
ENABLE_WHATSAPP_SENDING=false
ENABLE_TWILIO_CALLING=false
ENABLE_KLICKTIPP_INTEGRATION=false
ENABLE_PINECONE_RAG=false
